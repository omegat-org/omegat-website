<div class="container">
<h2>OmegaT 技術情報：<br/>
Microsoft Translator 機械翻訳の使用に必要な設定</h2><br/>

- Microsoft Translator API を利用すると、OmegaT の機械翻訳ウィンドウに Microsoft Translator による機械翻訳を表示できます。<br/>
- Microsoft Translator API の利用には、Microsoft Azure Marketplace 上でアプリケーションの登録が必要です。登録した情報のうち「クライアント ID」「顧客の秘密」を OmegaT での設定に使用します。<br/>

<h3>サブスクリプション</h3>
<a href="https://datamarket.azure.com/dataset/bing/microsofttranslator">https://datamarket.azure.com/dataset/bing/microsofttranslator</a><br/>
<br/>
- まず上記にアクセスし、画面右上「サインイン」から、 Microsoft Azure Marketplace にサインインします。<br/>
* Microsoft アカウントをあらかじめ取得しておく必要があります<br/>
- Microsoft Azure Marketplace サインイン後、Microsoft Translator を利用するためのサブスクリプションを行います。<br/>
- 画面右に表示された無料または有料のプランから、希望のものを選択します。一番上の無料プラン（2,000,000 文字/月）を選択する場合、「&yen;0」の下の［サインアップ］をクリックします。<br/>
<br/>

<h3>アプリケーションの登録</h3>
- サインアップが完了したら、画面上部のメニュー「マイ アカウント」をクリックします。<br/>
- 画面左に表示された「マイ アカウント」メニューから「開発者」をクリックします。<br/>
<br/>
<a href="https://datamarket.azure.com/developer/applications">https://datamarket.azure.com/developer/applications</a><br/>
<br/>
- 「登録されたアプリケーション」の下に表示された［登録］をクリックします。<br/>
- 以下を入力し、任意のアプリケーションを1つ登録します。<br/>
<br/>
&nbsp;&nbsp; - クライアント ID：任意の文字列。例：my_clientid1<br/>
&nbsp;&nbsp; - 名前：任意の文字列。例：my_application01<br/>
&nbsp;&nbsp; - 顧客の秘密：デフォルトで表示されるものを使用<br/>
&nbsp;&nbsp; - リダイレクト URI：任意の URI（Microsoft Translator の場合、無効な URL の入力が必要）例：https://dummy/<br/>
<br/>
- アプリケーションの登録が完了したら、下記ページの「登録されたアプリケーション」に、アプリケーションが表示されているかを確認します。<br/>
<br/>
<a href="https://datamarket.azure.com/developer/applications">https://datamarket.azure.com/developer/applications</a><br/>
<br/>

<h3>OmegaT での設定</h3>

- 上記アプリケーション登録で使用した情報のうち「クライアント ID」「顧客の秘密」を使用します。<br/>

<h4>Windows の場合</h4>
- OmegaT プログラムフォルダーにある OmegaT.l4J.ini を任意のテキストエディタで開き、以下の項目を編集します。<br/>
<br/>
- OmegaT.l4J.ini 編集前
<pre>
# Microsoft Translator credentials
#-Dmicrosoft.api.client_id=xxxxx
#-Dmicrosoft.api.client_secret=xxxxx
</pre>
- OmegaT.l4J.ini 編集後（クライアント ID：my_clientid1 の場合の例）<br/>
- 行先頭の ＃ を除去し、xxxxx の部分に「クライアント ID」「顧客の秘密」を設定します。<br/>
<pre>
# Microsoft Translator credentials
-Dmicrosoft.api.client_id=my_clientid1
-Dmicrosoft.api.client_secret=顧客の秘密として設定した文字列
</pre>
- 編集が終わったら OmegaT.l4J.ini を上書き保存します。<br/>

<h4>Mac OS X の場合</h4>
- OmegaT 実行ファイルを右クリック（Command+クリック、2本指タップ）し［パッケージの内容を表示］を選択します。<br/>
- OmegaT.app/Contents/MacOS/OmegaT.sh を任意のテキストエディタで開き、以下の項目を編集します。<br/>
<br/>
- OmegaT.sh 編集前
<pre>
# Microsoft Translator credentials
#MS_CLIENT_ID="-Dmicrosoft.api.client_id=xxxxx"
#MS_CLIENT_SECRET="-Dmicrosoft.api.client_secret=xxxxx"
</pre>
<br/>
- OmegaT.sh 編集後（クライアント ID：my_clientid1 の場合の例）<br/>
- 行先頭の ＃ を除去し、xxxxx の部分に「クライアント ID」「顧客の秘密」を設定します。<br/>
<pre>
# Microsoft Translator credentials
MS_CLIENT_ID="-Dmicrosoft.api.client_id=my_clientid1"
MS_CLIENT_SECRET="-Dmicrosoft.api.client_secret=顧客の秘密として設定した文字列"
</pre>
- 編集が終わったら OmegaT.sh を上書き保存します。<br/>

<h4>Linux の場合</h4>
- OmegaT 起動時のオプションとして以下のように指定します（クライアント ID：my_clientid1 の場合の例）<br/>
<pre>
java -jar -Dmicrosoft.api.client_id=my_clientid1 -Dmicrosoft.api.client_secret=顧客の秘密として設定した文字列 OmegaT.jar
</pre>
<br/>

<h3>OmegaT での Microsoft Translator 機械翻訳の使用</h3>
- OmegaT を起動し、任意のプロジェクトを開きます。<br/>
- ［設定］→［機械翻訳］→［Microsoft Translator］をチェックします。<br/>
- 任意の文節を選択すると、機械翻訳ウィンドウに翻訳結果が表示されます。<br/>
&nbsp;&nbsp; - もし機械翻訳ウィンドウに「Bad Request」と表示された場合、「クライアント ID」「顧客の秘密」の組み合わせが適切かどうか確認してください。<br/>
- Command+M を押すと，その機械翻訳が訳文に反映されます。<br/>

<h3>補足：あと何文字翻訳できるか確認したい場合</h3>
<a href="https://datamarket.azure.com/account/datasets">https://datamarket.azure.com/account/datasets</a><br/>
<br/>
- Microsoft Azure Marketplace にサインインした状態で上記にアクセスすると、「状態」列に「残り 1,998,890 文字」のように表示されます。<br/>

<br/>

<p>Copyright Will Helton 2012</p>

</div>

